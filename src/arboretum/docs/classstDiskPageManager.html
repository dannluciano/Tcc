<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>stDiskPageManager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<h1>GBDI Arboretum<br><small>Version Release 1</small></h1>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stDiskPageManager Class Reference<br>
<small>
[<a class="el" href="group__storage.html">Storage Layer</a>]</small>
</h1><code>#include &lt;<a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>&gt;</code>
<p>
<p>Inheritance diagram for stDiskPageManager:
<p><center><img src="classstDiskPageManager.png" usemap="#stDiskPageManager_map" border="0" alt=""></center>
<map name="stDiskPageManager_map">
<area href="classstPageManager.html" alt="stPageManager" shape="rect" coords="0,0,125,24">
</map>
<a href="classstDiskPageManager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a0">stDiskPageManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a1">stDiskPageManager</a> (const  string &amp;fName, <a class="el" href="stTypes_8h.html#a5">stSize</a> pagesize, <a class="el" href="stTypes_8h.html#a5">stSize</a> userHeaderSize=-1, int cacheNPages=5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a2">stDiskPageManager</a> (const  string &amp;fName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a3">~stDiskPageManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a4">IsEmpty</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual <a class="el" href="classstPage.html">stPage</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a5">GetHeaderPage</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual <a class="el" href="classstPage.html">stPage</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a6">GetPage</a> (<a class="el" href="stTypes_8h.html#a4">stPageID</a> pageid)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a7">ReleasePage</a> (<a class="el" href="classstPage.html">stPage</a> *page)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual <a class="el" href="classstPage.html">stPage</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a8">GetNewPage</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a9">WritePage</a> (<a class="el" href="classstPage.html">stPage</a> *page)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a10">WriteHeaderPage</a> (<a class="el" href="classstPage.html">stPage</a> *headerpage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a11">DisposePage</a> (<a class="el" href="classstPage.html">stPage</a> *page)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a12">Create</a> (const  char *fName, int pagesize, int userHeaderSize=-1, int cacheNPages=5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a13">Open</a> (char *fname)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a14">ResetFile</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual <a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a15">GetMinimumPageSize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a16">Flush</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a17">ResetStatistics</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a18">GetDiskReadCount</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a19">GetDiskWriteCount</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a20">GetDiskSAccessCount</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const  string &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a21">GetFileName</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="stTypes_8h.html#a4">stPageID</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstDiskPageManager.html#a22">GetLastPageID</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class controls the Slim Tree disk access. This class implements the abstract class <a class="el" href="classstPageManager.html">stPageManager</a>.<p>
This version uses <a class="el" href="classCStorage.html">CStorage</a> to disk access, ie, all disk controls is made by <a class="el" href="classCStorage.html">CStorage</a>.<p>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Marcos Rodrigues Vieira (<a href="mailto:mrvieira@icmc.usp.br">mrvieira@icmc.usp.br</a>) <p>
Josiel Maimone de Figueiredo (<a href="mailto:josiel@icmc.usp.br">josiel@icmc.usp.br</a>) <p>
Fabio Jun Takada Chino (<a href="mailto:chino@icmc.usp.br">chino@icmc.usp.br</a>) </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstPageManager.html">stPageManager</a> <p>
<a class="el" href="classstMemoryPageManager.html">stMemoryPageManager</a> <p>
<a class="el" href="classCStorage.html">CStorage</a> </dd></dl>

<p>

<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00105">105</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="stDiskPageManager::stDiskPageManager" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> stDiskPageManager::stDiskPageManager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new instance of this class. Use <a class="el" href="classstDiskPageManager.html#a12">Create()</a> or <a class="el" href="classstDiskPageManager.html#a13">Open()</a> to prepare this instance for use.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This method will be deprecated in future versions. </dd></dl>

<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00113">113</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="stDiskPageManager::stDiskPageManager" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> stDiskPageManager::stDiskPageManager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pagesize</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>userHeaderSize</em> = -1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cacheNPages</em> = 5</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new instance of this class. This constructor will create a new file with the given name.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fName</em>&nbsp;</td><td>The file name. </td></tr>
    <tr><td valign=top><em>pagesize</em>&nbsp;</td><td>Size of each page in file. This value must be larger or equal than 64. </td></tr>
    <tr><td valign=top><em>userHeaderSize</em>&nbsp;</td><td>Size of header. </td></tr>
    <tr><td valign=top><em>cacheNPages</em>&nbsp;</td><td>Number of pages holded by cache. This value must be larger or equal than 5. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>io_error</em>&nbsp;</td><td>If the file can not be created. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="stDiskPageManager::stDiskPageManager" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> stDiskPageManager::stDiskPageManager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new instance of this class. This constructor will open an existing file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fName</em>&nbsp;</td><td>The file name. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>io_error</em>&nbsp;</td><td>If the file can not be opened. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="stDiskPageManager::~stDiskPageManager" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual stDiskPageManager::~<a class="el" href="classstDiskPageManager.html">stDiskPageManager</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disposes this page and free all allocated resources.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a12" doxytag="stDiskPageManager::Create" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void stDiskPageManager::Create </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>fName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>pagesize</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>userHeaderSize</em> = -1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cacheNPages</em> = 5</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a disk file that will store the data<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fName</em>&nbsp;</td><td>The file name. </td></tr>
    <tr><td valign=top><em>pagesize</em>&nbsp;</td><td>Size of each page in file. This value must be larger or equal than 64. </td></tr>
    <tr><td valign=top><em>userHeaderSize</em>&nbsp;</td><td>Size of header. </td></tr>
    <tr><td valign=top><em>cacheNPages</em>&nbsp;</td><td>Number of pages holded by cache. This value must be larger or equal than 5.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>Create(char*,int,int) <p>
<a class="el" href="classstDiskPageManager.html#a13">Open()</a> <p>
Drop() </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>This method will be deprecated. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="stDiskPageManager::DisposePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void stDiskPageManager::DisposePage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classstPage.html">stPage</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>page</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disposes the given page. This method will make the page available (not allocated) for the next calls of <a class="el" href="classstDiskPageManager.html#a8">GetNewPage()</a>.<p>
Since this page will not be used anymore, this method will release the lock for this page instance.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>page</em>&nbsp;</td><td>The page to be disposed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a8">GetNewPage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a8">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="stDiskPageManager::Flush" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void stDiskPageManager::Flush </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flushes the cache data to disk.     </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="stDiskPageManager::GetDiskReadCount" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long stDiskPageManager::GetDiskReadCount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method returns the number of disk reads. Since this class caches reads and writes, the returning value will always be less or equal to the number of logic reads returned by <a class="el" href="classstPageManager.html#a10">GetReadCount()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a17">ResetStatistics()</a> </dd></dl>

<p>
Referenced by <a class="el" href="stDiskPageManager_8h-source.html#l00338">GetDiskSAccessCount()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="stDiskPageManager::GetDiskSAccessCount" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long stDiskPageManager::GetDiskSAccessCount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method returns the number of disk access. Since this class caches reads and writes, the returning value will always be less or equal to the number of logic reads returned by <a class="el" href="classstPageManager.html#a12">GetAccessCount()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a17">ResetStatistics()</a> </dd></dl>

<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00338">338</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.
<p>
References <a class="el" href="classstDiskPageManager.html#a18">GetDiskReadCount()</a>, and <a class="el" href="classstDiskPageManager.html#a19">GetDiskWriteCount()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="stDiskPageManager::GetDiskWriteCount" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long stDiskPageManager::GetDiskWriteCount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method returns the number of disk writes. Since this class caches reads and writes, the returning value will always be less or equal to the number of logic reads returned by <a class="el" href="classstPageManager.html#a11">GetWriteCount()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a17">ResetStatistics()</a> </dd></dl>

<p>
Referenced by <a class="el" href="stDiskPageManager_8h-source.html#l00338">GetDiskSAccessCount()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="stDiskPageManager::GetFileName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const string&amp; stDiskPageManager::GetFileName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the file name. 
<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00345">345</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="stDiskPageManager::GetHeaderPage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classstPage.html">stPage</a>* stDiskPageManager::GetHeaderPage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the header page. This method will return a special page that will be used by SlimTree to write some information about the tree itself.<p>
Since this page must always exist, this method will always return a valid page for reading/writing. Use <a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> to write this page.<p>
The returning instance of <a class="el" href="classstPage.html">stPage</a> will be locked to prevent its reuse by this page manager. Use <a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> to unlock this instance.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The header page. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a3">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="stDiskPageManager::GetLastPageID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="stTypes_8h.html#a4">stPageID</a> stDiskPageManager::GetLastPageID </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the last page ID.<p>
<dl compact><dt><b>Warning:</b></dt><dd>This method is experimental. </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd>This method was deprecated. There is no replacement for it. </dd></dl>

<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00356">356</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.
<p>
References <a class="el" href="CStorage_8h-source.html#l00294">CStorage::GetTotalPagesIncludingDisposed()</a>, and <a class="el" href="stTypes_8h-source.html#l00184">stPageID</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="stDiskPageManager::GetMinimumPageSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="stTypes_8h.html#a5">stSize</a> stDiskPageManager::GetMinimumPageSize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the minimum size of a page. The size of the header page is always ignored since it may be smaller than others. 
<p>
Implements <a class="el" href="classstPageManager.html#a13">stPageManager</a>.
<p>
Definition at line <a class="el" href="stDiskPageManager_8h-source.html#l00299">299</a> of file <a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a>.
<p>
References <a class="el" href="stTypes_8h-source.html#l00191">stSize</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="stDiskPageManager::GetNewPage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classstPage.html">stPage</a>* stDiskPageManager::GetNewPage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocates a new page for use. As <a class="el" href="classstDiskPageManager.html#a6">GetPage()</a> and <a class="el" href="classstDiskPageManager.html#a5">GetHeaderPage()</a>, the returning instance will be locked to prevent reuse by this page manager.<p>
To dispose this page (make it free), use <a class="el" href="classstDiskPageManager.html#a11">DisposePage()</a>.<p>
<dl compact><dt><b>Returns:</b></dt><dd>A new page or NULL for errors. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a11">DisposePage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a6">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="stDiskPageManager::GetPage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classstPage.html">stPage</a>* stDiskPageManager::GetPage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="stTypes_8h.html#a4">stPageID</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pageid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the page with the given page ID. This method will return a valid page for reading/writing. Use <a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> to write this page.<p>
The returning instance of <a class="el" href="classstPage.html">stPage</a> will be locked to prevent its reuse by this page manager. Use <a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> to unlock this instance.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pageid</em>&nbsp;</td><td>The desired page id. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The page or NULL for an invalid page ID. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a4">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="stDiskPageManager::IsEmpty" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual bool stDiskPageManager::IsEmpty </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This method will checks if this page manager is empty. If this method returns true, the <a class="el" href="classstSlimTree.html">stSlimTree</a> will create a new tree otherwise it will continue to use the existing tree.<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if the page manager is empty or false otherwise. </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a1">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="stDiskPageManager::Open" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void stDiskPageManager::Open </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open an existing file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fname</em>&nbsp;</td><td>File name.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a12">Create()</a> <p>
Drop() </dd></dl>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd>This method will be deprecated. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="stDiskPageManager::ReleasePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void stDiskPageManager::ReleasePage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classstPage.html">stPage</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>page</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Releases this instace for reuse by this page manager. Since some implementations of page manager will reuse instances of <a class="el" href="classstPage.html">stPage</a> to avoid unnecessary resource reallocations, each page instance must be locked until it becomes unecessary.<p>
The <a class="el" href="classstSlimTree.html">stSlimTree</a> will always call this method when a <a class="el" href="classstPage.html">stPage</a> instance will not be used in a near future.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>page</em>&nbsp;</td><td>The locked page. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a6">GetPage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a5">GetHeaderPage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a5">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="stDiskPageManager::ResetFile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void stDiskPageManager::ResetFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the file and reopen overwriting all data.<p>
There must be an opened file. The user header and all data will be destroyed. The user must save his header before calling this method (if he needs to save it). Only the original characteristics (Pagesize, buferSize, userHeaderSize and cacheTotalPages) are maintained.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a12">Create()</a> <p>
<a class="el" href="classstDiskPageManager.html#a13">Open()</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="stDiskPageManager::ResetStatistics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void stDiskPageManager::ResetStatistics </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Restarts the statistics. 
<p>
Reimplemented from <a class="el" href="classstPageManager.html#a9">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="stDiskPageManager::WriteHeaderPage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void stDiskPageManager::WriteHeaderPage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classstPage.html">stPage</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>headerpage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes the header page to the disk.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>headerpage</em>&nbsp;</td><td>The page to be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> <p>
<a class="el" href="classstDiskPageManager.html#a9">WritePage()</a> <p>
GetHeaderPageSize() </dd></dl>

<p>
Reimplemented from <a class="el" href="classstPageManager.html#a2">stPageManager</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="stDiskPageManager::WritePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void stDiskPageManager::WritePage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classstPage.html">stPage</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>page</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes the given page to the disk. This method will write the page but will not release it. Use <a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> to do it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>page</em>&nbsp;</td><td>The page to be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstDiskPageManager.html#a7">ReleasePage()</a> </dd></dl>

<p>
Implements <a class="el" href="classstPageManager.html#a7">stPageManager</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="stDiskPageManager_8h-source.html">stDiskPageManager.h</a></ul>
<hr><address style="align: right;"><small>
Generated on Mon Mar 21 16:12:07 2005 for GBDI Arboretum by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.3.4</small><br>
Copyright &copy 2002-2003 GBDI-ICMC-USP
</address>
</body>
</html>
