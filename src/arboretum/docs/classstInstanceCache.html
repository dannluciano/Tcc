<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title> TemplatestInstanceCache&lt; ClassType, AllocatorType &gt; class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<h1>GBDI Arboretum<br><small>Version Release 1</small></h1>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stInstanceCache&lt; ClassType, AllocatorType &gt; Class Template Reference<br>
<small>
[<a class="el" href="group__util.html">Utilities</a>]</small>
</h1><code>#include &lt;<a class="el" href="stUtil_8h-source.html">stUtil.h</a>&gt;</code>
<p>
<a href="classstInstanceCache-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstInstanceCache.html#a0">stInstanceCache</a> (int capacity, AllocatorType *allocator)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstInstanceCache.html#a1">~stInstanceCache</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ClassType *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstInstanceCache.html#a2">Get</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstInstanceCache.html#a3">Put</a> (ClassType *instance)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class ClassType, class AllocatorType&gt;<br>
 class stInstanceCache&lt; ClassType, AllocatorType &gt;</h3>

This class template implements a generic instance cache. The idea behind this class is to create a replacement to new and delete operations (<a class="el" href="classstInstanceCache.html#a2">Get()</a> and <a class="el" href="classstInstanceCache.html#a3">Put()</a>). The creation of a new instance is avoided if there is a non-used instance available otherwise a new instance is created. The same principle is valid to deletion but in a reverse way. In other words, it ca be used to cache instances of a given class to be used later.<p>
To manage the class creations and deletions, there is an interface called <a class="el" href="classstInstanceAllocator.html">stInstanceAllocator</a> that can manage class creations and deletions. This interface defines only two methods:<ul>
<li>ClassType * Create(): Creates a new instance.</li><li>void Dispose(ClassType * instance): Disposes a given instance. There is a default implementation called <a class="el" href="classstInstanceAllocator.html">stInstanceAllocator</a> (a template with the same name of the interface) which supports the creation using a constructor with no parameters.</li></ul>
<p>
This class template was designet to work with <a class="el" href="classstPage.html">stPage</a> instances but may be used in any other situations where an existing instance can be reused. This can make some operations faster because the new and delete operations are usually slow.<p>
<dl compact><dt><b>Author:</b></dt><dd>Fabio Jun Takada Chino (<a href="mailto:chino@icmc.usp.br">chino@icmc.usp.br</a>) <p>
Marcos Rodrigues Vieira (<a href="mailto:mrvieira@icmc.usp.br">mrvieira@icmc.usp.br</a>) </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl compact><dt><b>Warning:</b></dt><dd>There are classes which this concept is not suitable. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstInstanceAllocator.html">stInstanceAllocator</a> </dd></dl>

<p>

<p>
Definition at line <a class="el" href="stUtil_8h-source.html#l01056">1056</a> of file <a class="el" href="stUtil_8h-source.html">stUtil.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="stInstanceCache::stInstanceCache" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ClassType, class AllocatorType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classstInstanceCache.html">stInstanceCache</a>&lt; ClassType, AllocatorType &gt;::<a class="el" href="classstInstanceCache.html">stInstanceCache</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>capacity</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>AllocatorType *&nbsp;</td>
          <td class="mdname" nowrap> <em>allocator</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new instance of this instance cache. This method will claim the owneship of the allocator.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>capacity</em>&nbsp;</td><td>Maximum number of entries in the cache. </td></tr>
    <tr><td valign=top><em>allocator</em>&nbsp;</td><td>The allocator of the ClassType. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="stUtil_8h-source.html#l01065">1065</a> of file <a class="el" href="stUtil_8h-source.html">stUtil.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="stInstanceCache::~stInstanceCache" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ClassType, class AllocatorType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classstInstanceCache.html">stInstanceCache</a>&lt; ClassType, AllocatorType &gt;::~<a class="el" href="classstInstanceCache.html">stInstanceCache</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disposes this cache and all cached instances. The allocator is also disposed.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="stInstanceCache::Get" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ClassType, class AllocatorType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> ClassType* <a class="el" href="classstInstanceCache.html">stInstanceCache</a>&lt; ClassType, AllocatorType &gt;::Get </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets ans instance from the cache. 
<p>
Definition at line <a class="el" href="stUtil_8h-source.html#l01080">1080</a> of file <a class="el" href="stUtil_8h-source.html">stUtil.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="stInstanceCache::Put" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ClassType, class AllocatorType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> void <a class="el" href="classstInstanceCache.html">stInstanceCache</a>&lt; ClassType, AllocatorType &gt;::Put </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ClassType *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>instance</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Puts an instance back into this cache.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>instance</em>&nbsp;</td><td>The instance to be put back in the cache. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="stUtil_8h-source.html#l01094">1094</a> of file <a class="el" href="stUtil_8h-source.html">stUtil.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="stUtil_8h-source.html">stUtil.h</a></ul>
<hr><address style="align: right;"><small>
Generated on Mon Mar 21 16:12:07 2005 for GBDI Arboretum by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.3.4</small><br>
Copyright &copy 2002-2003 GBDI-ICMC-USP
</address>
</body>
</html>
