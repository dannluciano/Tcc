<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>stUtil.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<h1>GBDI Arboretum<br><small>Version Release 1</small></h1>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stUtil.h</h1><a href="stUtil_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/**********************************************************************</span>
00002 <span class="comment">* GBDI Arboretum - Copyright (c) 2002-2004 GBDI-ICMC-USP</span>
00003 <span class="comment">*</span>
00004 <span class="comment">*                           Homepage: http://gbdi.icmc.usp.br/arboretum</span>
00005 <span class="comment">**********************************************************************/</span>
00006 <span class="comment">/* ====================================================================</span>
00007 <span class="comment"> * The GBDI-ICMC-USP Software License Version 1.0</span>
00008 <span class="comment"> *</span>
00009 <span class="comment"> * Copyright (c) 2004 Grupo de Bases de Dados e Imagens, Instituto de</span>
00010 <span class="comment"> * Ciências Matemáticas e de Computação, University of São Paulo -</span>
00011 <span class="comment"> * Brazil (the Databases and Image Group - Intitute of Matematical and </span>
00012 <span class="comment"> * Computer Sciences).  All rights reserved.</span>
00013 <span class="comment"> *</span>
00014 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
00015 <span class="comment"> * modification, are permitted provided that the following conditions</span>
00016 <span class="comment"> * are met:</span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> * 1. Redistributions of source code must retain the above copyright</span>
00019 <span class="comment"> *    notice, this list of conditions and the following disclaimer.</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span>
00022 <span class="comment"> *    notice, this list of conditions and the following disclaimer in</span>
00023 <span class="comment"> *    the documentation and/or other materials provided with the</span>
00024 <span class="comment"> *    distribution.</span>
00025 <span class="comment"> *</span>
00026 <span class="comment"> * 3. The end-user documentation included with the redistribution,</span>
00027 <span class="comment"> *    if any, must include the following acknowledgment:</span>
00028 <span class="comment"> *       "This product includes software developed by Grupo de Bases</span>
00029 <span class="comment"> *        de Dados e Imagens, Instituto de Ciências Matemáticas e de</span>
00030 <span class="comment"> *        Computação, University of São Paulo - Brazil (the Databases </span>
00031 <span class="comment"> *        and Image Group - Intitute of Matematical and Computer </span>
00032 <span class="comment"> *        Sciences)"</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> *    Alternately, this acknowledgment may appear in the software itself,</span>
00035 <span class="comment"> *    if and wherever such third-party acknowledgments normally appear.</span>
00036 <span class="comment"> *</span>
00037 <span class="comment"> * 4. The names of the research group, institute, university, authors</span>
00038 <span class="comment"> *    and collaborators must not be used to endorse or promote products</span>
00039 <span class="comment"> *    derived from this software without prior written permission.</span>
00040 <span class="comment"> *</span>
00041 <span class="comment"> * 5. The names of products derived from this software may not contain</span>
00042 <span class="comment"> *    the name of research group, institute or university, without prior</span>
00043 <span class="comment"> *    written permission of the authors of this software.</span>
00044 <span class="comment"> *</span>
00045 <span class="comment"> * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED</span>
00046 <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES</span>
00047 <span class="comment"> * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
00048 <span class="comment"> * DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS OF THIS SOFTWARE OR</span>
00049 <span class="comment"> * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
00050 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
00051 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF</span>
00052 <span class="comment"> * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
00053 <span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
00054 <span class="comment"> * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span>
00055 <span class="comment"> * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</span>
00056 <span class="comment"> * SUCH DAMAGE.</span>
00057 <span class="comment"> *</span>
00058 <span class="comment"> * ====================================================================</span>
00059 <span class="comment"> *                                            http://gbdi.icmc.usp.br/</span>
00060 <span class="comment"> */</span>
00073 <span class="comment">// Copyright (c) 2002-2003 GBDI-ICMC-USP</span>
00074 <span class="preprocessor">#ifndef __STUTIL_H</span>
00075 <span class="preprocessor"></span><span class="preprocessor">#define __STUTIL_H</span>
00076 <span class="preprocessor"></span>
00077 <span class="preprocessor">#include &lt;<a class="code" href="stException_8h.html">arboretum/stException.h</a>&gt;</span>
00078 <span class="preprocessor">#include &lt;<a class="code" href="stTypes_8h.html">arboretum/stTypes.h</a>&gt;</span>
00079 <span class="preprocessor">#include &lt;string.h&gt;</span>
00080 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00081 
00082 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00083 
00084 <span class="comment">//----------------------------------------------------------------------------</span>
00085 <span class="comment">// Debug tools</span>
00086 <span class="comment">//----------------------------------------------------------------------------</span>
00087 <span class="preprocessor">#ifdef __stDEBUG__</span>
00088 <span class="preprocessor"></span>   <span class="comment">// Includes</span>
00089 <span class="preprocessor">   #include &lt;iostream&gt;</span>
00090    <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00091 <span class="preprocessor">#endif //__stDEBUG__</span>
00092 <span class="preprocessor"></span>
00093 <span class="comment">//----------------------------------------------------------------------------</span>
00094 <span class="comment">// Class template stGenericMatrix</span>
00095 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00104"></a><a class="code" href="classstGenericMatrix.html">00104</a> <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> Type &gt; <span class="keyword">class </span><a class="code" href="classstGenericMatrix.html">stGenericMatrix</a>{
00105    <span class="keyword">public</span>:
<a name="l00110"></a><a class="code" href="classstGenericMatrix.html#a0">00110</a>       <a class="code" href="classstGenericMatrix.html#a0">stGenericMatrix</a>(){
00111          Rows = 0;
00112          Cols = 0;
00113          DataSize = 0;
00114          PRowsSize = 0;
00115          Data = NULL;
00116          PRows = NULL;
00117       }<span class="comment">//end stGenericMatrix</span>
00118 
<a name="l00125"></a><a class="code" href="classstGenericMatrix.html#a1">00125</a>       <a class="code" href="classstGenericMatrix.html#a0">stGenericMatrix</a>(<span class="keywordtype">int</span> cols, <span class="keywordtype">int</span> rows){
00126          Data = NULL;
00127          <a class="code" href="classstGenericMatrix.html#a3">SetSize</a>(cols, rows);
00128       }<span class="comment">//end stGenericMatrix</span>
00129 
<a name="l00133"></a><a class="code" href="classstGenericMatrix.html#a2">00133</a>       <a class="code" href="classstGenericMatrix.html#a2">~stGenericMatrix</a>(){
00134 
00135          <span class="keywordflow">if</span> (Data != NULL){
00136             <span class="keyword">delete</span>[] Data;
00137          }<span class="comment">//end if</span>
00138          <span class="keywordflow">if</span> (PRows != NULL){
00139             <span class="keyword">delete</span>[] PRows;
00140          }<span class="comment">//end if</span>
00141       }<span class="comment">//end ~stGenericMatrix</span>
00142 
00149       <span class="keywordtype">void</span> <a class="code" href="classstGenericMatrix.html#a3">SetSize</a>(<span class="keywordtype">int</span> cols, <span class="keywordtype">int</span> rows);
00150 
<a name="l00154"></a><a class="code" href="classstGenericMatrix.html#a4">00154</a>       <span class="keywordtype">int</span> <a class="code" href="classstGenericMatrix.html#a4">GetRows</a>(){
00155          <span class="keywordflow">return</span> Rows;
00156       }<span class="comment">//end GetRows</span>
00157 
<a name="l00161"></a><a class="code" href="classstGenericMatrix.html#a5">00161</a>       <span class="keywordtype">int</span> <a class="code" href="classstGenericMatrix.html#a5">GetCols</a>(){
00162          <span class="keywordflow">return</span> Cols;
00163       }<span class="comment">//end GetCols</span>
00164 
<a name="l00171"></a><a class="code" href="classstGenericMatrix.html#a6">00171</a>       Type &amp; <a class="code" href="classstGenericMatrix.html#a6">Get</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col){
00172          <span class="keywordflow">return</span> (*this)[row][col];
00173       }<span class="comment">//end Get</span>
00174 
<a name="l00181"></a><a class="code" href="classstGenericMatrix.html#a7">00181</a>       Type * <a class="code" href="classstGenericMatrix.html#a7">operator [] </a>(<span class="keywordtype">int</span> row){
00182          <span class="keywordflow">return</span> PRows[row];
00183       }<span class="comment">//end operator []</span>
00184 
00185    <span class="keyword">private</span>:
00186 
00190       <span class="keywordtype">int</span> Rows;
00191 
00195       <span class="keywordtype">int</span> Cols;
00196 
00200       <span class="keywordtype">int</span> DataSize;
00201 
00205       <span class="keywordtype">int</span> PRowsSize;
00206 
00210       Type * Data;
00211 
00215       Type ** PRows;
00216 };<span class="comment">//end stGenericMatrix</span>
00217 
00218 <span class="comment">//----------------------------------------------------------------------------</span>
00219 <span class="comment">// Class template stHugeGenericMatrix</span>
00220 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00230"></a><a class="code" href="classstHugeGenericMatrix.html">00230</a> <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> Type &gt; <span class="keyword">class </span><a class="code" href="classstHugeGenericMatrix.html">stHugeGenericMatrix</a>{
00231    <span class="keyword">public</span>:
<a name="l00236"></a><a class="code" href="classstHugeGenericMatrix.html#a0">00236</a>       <a class="code" href="classstHugeGenericMatrix.html#a0">stHugeGenericMatrix</a>(){
00237          Rows = 0;
00238          Cols = 0;
00239          PRows = NULL;
00240       }<span class="comment">//end stHugeGenericMatrix</span>
00241 
<a name="l00248"></a><a class="code" href="classstHugeGenericMatrix.html#a1">00248</a>       <a class="code" href="classstHugeGenericMatrix.html#a0">stHugeGenericMatrix</a>(<span class="keywordtype">int</span> cols, <span class="keywordtype">int</span> rows){
00249          PRows = NULL;
00250          <a class="code" href="classstHugeGenericMatrix.html#a3">SetSize</a>(cols, rows);
00251       }<span class="comment">//end stHugeGenericMatrix</span>
00252 
00256       <span class="keyword">virtual</span> <a class="code" href="classstHugeGenericMatrix.html#a2">~stHugeGenericMatrix</a>();
00257 
00264       <span class="keywordtype">void</span> <a class="code" href="classstHugeGenericMatrix.html#a3">SetSize</a>(<span class="keywordtype">int</span> cols, <span class="keywordtype">int</span> rows);
00265 
<a name="l00269"></a><a class="code" href="classstHugeGenericMatrix.html#a4">00269</a>       <span class="keywordtype">int</span> <a class="code" href="classstHugeGenericMatrix.html#a4">GetRows</a>(){
00270          <span class="keywordflow">return</span> Rows;
00271       }<span class="comment">//end GetRows</span>
00272 
<a name="l00276"></a><a class="code" href="classstHugeGenericMatrix.html#a5">00276</a>       <span class="keywordtype">int</span> <a class="code" href="classstHugeGenericMatrix.html#a5">GetCols</a>(){
00277          <span class="keywordflow">return</span> Cols;
00278       }<span class="comment">//end GetCols</span>
00279 
<a name="l00286"></a><a class="code" href="classstHugeGenericMatrix.html#a6">00286</a>       Type &amp; <a class="code" href="classstHugeGenericMatrix.html#a6">Get</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col){
00287          <span class="keywordflow">return</span> (*this)[row][col];
00288       }<span class="comment">//end Get</span>
00289 
<a name="l00296"></a><a class="code" href="classstHugeGenericMatrix.html#a7">00296</a>       Type * <a class="code" href="classstHugeGenericMatrix.html#a7">operator [] </a>(<span class="keywordtype">int</span> row){
00297          <span class="keywordflow">return</span> PRows[row];
00298       }<span class="comment">//end operator []</span>
00299 
00300    <span class="keyword">private</span>:
00301 
00305       <span class="keywordtype">int</span> Rows;
00306 
00310       <span class="keywordtype">int</span> Cols;
00311 
00315       Type ** PRows;
00316 
00320       <span class="keywordtype">void</span> DisposeRows();
00321 };<span class="comment">//end stHugeGenericMatrix</span>
00322 
00323 <span class="comment">//----------------------------------------------------------------------------</span>
00324 <span class="comment">// Structure stDistanceIndex</span>
00325 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00334"></a><a class="code" href="structstDistanceIndex.html">00334</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstDistanceIndex.html">stDistanceIndex</a>{
<a name="l00338"></a><a class="code" href="structstDistanceIndex.html#o0">00338</a>    <span class="keywordtype">int</span> <a class="code" href="structstDistanceIndex.html#o0">Index</a>;
00339 
<a name="l00343"></a><a class="code" href="structstDistanceIndex.html#o1">00343</a>    <span class="keywordtype">double</span> <a class="code" href="structstDistanceIndex.html#o1">Distance</a>;
00344 
<a name="l00348"></a><a class="code" href="structstDistanceIndex.html#a0">00348</a>    <a class="code" href="structstDistanceIndex.html#a0">stDistanceIndex</a>() : <a class="code" href="structstDistanceIndex.html#o0">Index</a>(0), <a class="code" href="structstDistanceIndex.html#o1">Distance</a>(0) {};
00349 
<a name="l00350"></a><a class="code" href="structstDistanceIndex.html#a1">00350</a>    <span class="keyword">struct </span><a class="code" href="structstDistanceIndex.html">stDistanceIndex</a> &amp; <a class="code" href="structstDistanceIndex.html#a1">operator = </a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structstDistanceIndex.html">stDistanceIndex</a> &amp; x){
00351       this-&gt;<a class="code" href="structstDistanceIndex.html#o1">Distance</a> = x.<a class="code" href="structstDistanceIndex.html#o1">Distance</a>;
00352       this-&gt;<a class="code" href="structstDistanceIndex.html#o0">Index</a> = x.<a class="code" href="structstDistanceIndex.html#o0">Index</a>;
00353       <span class="keywordflow">return</span> (*this);
00354    }<span class="comment">//end operator =</span>
00355 
00356 } <a class="code" href="structstDistanceIndex.html">stDistanceIndex</a>;
00357 
00367 <span class="keywordtype">bool</span> <a class="code" href="group__util.html#a2">operator &lt; </a>(<span class="keyword">const</span> <a class="code" href="structstDistanceIndex.html">stDistanceIndex</a> &amp; x, <span class="keyword">const</span> <a class="code" href="structstDistanceIndex.html">stDistanceIndex</a> &amp; y);
00368 
00369 <span class="comment">//----------------------------------------------------------------------------</span>
00370 <span class="comment">// template MinN</span>
00371 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00380"></a><a class="code" href="stUtil_8h.html#a7">00380</a> <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="stUtil_8h.html#a7">MinN</a>(<span class="keywordtype">int</span> n, T * values){
00381    <span class="keywordtype">int</span> i;
00382    <span class="keywordtype">int</span> min;
00383 
00384    min = 0;
00385    <span class="keywordflow">for</span> (i = 1; i &lt; n; i++){
00386       <span class="keywordflow">if</span> (values[i] &lt; values[min]){
00387          min = i;
00388       }<span class="comment">//end if</span>
00389    }<span class="comment">//end for</span>
00390 
00391    <span class="keywordflow">return</span> min;
00392 }<span class="comment">//end MinN</span>
00393 
00394 <span class="comment">//----------------------------------------------------------------------------</span>
00395 <span class="comment">// template MaxN</span>
00396 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00405"></a><a class="code" href="stUtil_8h.html#a8">00405</a> <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="stUtil_8h.html#a8">MaxN</a>(<span class="keywordtype">int</span> n, T * values){
00406    <span class="keywordtype">int</span> i;
00407    <span class="keywordtype">int</span> min;
00408 
00409    min = 0;
00410    <span class="keywordflow">for</span> (i = 1; i &lt; n; i++){
00411       <span class="keywordflow">if</span> (values[i] &gt; values[min]){
00412          min = i;
00413       }<span class="comment">//end if</span>
00414    }<span class="comment">//end for</span>
00415 
00416    <span class="keywordflow">return</span> min;
00417 }<span class="comment">//end MinN</span>
00418 
00419 <span class="comment">//----------------------------------------------------------------------------</span>
00420 <span class="comment">// Function TriangularInequality</span>
00421 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00432"></a><a class="code" href="stUtil_8h.html#a9">00432</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="stUtil_8h.html#a9">TriangularInequality</a>(<a class="code" href="group__types.html#a6">stDistance</a> ab, <a class="code" href="group__types.html#a6">stDistance</a> ac,
00433       <a class="code" href="group__types.html#a6">stDistance</a> bc){
00434 
00435    <span class="keywordflow">return</span> (ab + ac &gt;= bc) &amp;&amp; (ab + bc &gt;= ac);
00436 }<span class="comment">//end TriangularInequality</span>
00437 
00438 <span class="comment">//----------------------------------------------------------------------------</span>
00439 <span class="comment">// template class stRPriorityQueue</span>
00440 <span class="comment">//----------------------------------------------------------------------------</span>
00470 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> TKey, <span class="keyword">class</span> TValue&gt;
<a name="l00471"></a><a class="code" href="classstRPriorityQueue.html">00471</a> <span class="keyword">class </span><a class="code" href="classstRPriorityQueue.html">stRPriorityQueue</a>{
00472    <span class="keyword">public</span>:
<a name="l00478"></a><a class="code" href="classstRPriorityQueue.html#a0">00478</a>       <a class="code" href="classstRPriorityQueue.html#a0">stRPriorityQueue</a>(<span class="keywordtype">int</span> maxSize){
00479          this-&gt;maxSize = maxSize;
00480          this-&gt;size = 0;
00481          entries = <span class="keyword">new</span> tEntry[maxSize];
00482       }<span class="comment">//end maxSize</span>
00483 
<a name="l00487"></a><a class="code" href="classstRPriorityQueue.html#a1">00487</a>       <a class="code" href="classstRPriorityQueue.html#a1">~stRPriorityQueue</a>(){
00488          <span class="keywordflow">if</span> (entries != NULL){
00489             <span class="keyword">delete</span>[] entries;
00490          }<span class="comment">//end if</span>
00491       }<span class="comment">//end ~stRPriorityQueue</span>
00492       
00501       <span class="keywordtype">bool</span> <a class="code" href="classstRPriorityQueue.html#a2">Get</a>(TKey &amp; key, TValue &amp; value);
00502    
00512       <span class="keywordtype">void</span> <a class="code" href="classstRPriorityQueue.html#a3">Add</a>(<span class="keyword">const</span> TKey &amp; key, <span class="keyword">const</span> TValue &amp; value);  
00513       
<a name="l00517"></a><a class="code" href="classstRPriorityQueue.html#a4">00517</a>       <span class="keywordtype">int</span> <a class="code" href="classstRPriorityQueue.html#a4">GetSize</a>(){
00518          <span class="keywordflow">return</span> size;
00519       }<span class="comment">//end GetSize</span>
00520    <span class="keyword">private</span>:
00524       <span class="keyword">struct </span>tEntry{
00528          TKey key;
00532          TValue value;
00533       };<span class="comment">//end tEntry</span>
00534 
00538       <a class="code" href="classtEntry.html">tEntry</a> * entries;
00539       
00543       <span class="keywordtype">int</span> maxSize;
00544       
00548       <span class="keywordtype">int</span> size;      
00549       
00556       <span class="keywordtype">int</span> GetMinChild(<span class="keywordtype">int</span> parent){
00557          <span class="keywordtype">int</span> c = (parent * 2) + 1;
00558          
00559          <span class="keywordflow">if</span> ((c + 1 &lt; size) &amp;&amp; (entries[c + 1].key &lt; entries[c].key)){
00560             <span class="keywordflow">return</span> c + 1;
00561          }<span class="keywordflow">else</span>{
00562             <span class="keywordflow">if</span> (c &lt; size){
00563                <span class="keywordflow">return</span> c;
00564             }<span class="keywordflow">else</span>{
00565                <span class="keywordflow">return</span> -1;
00566             }<span class="comment">//end if            </span>
00567          }<span class="comment">//end if</span>
00568       }<span class="comment">//end GetMinChild</span>
00569 };<span class="comment">//end stRPriorityQueue</span>
00570 
00571 <span class="comment">//----------------------------------------------------------------------------</span>
00572 <span class="comment">// template class stDynamicRPriorityQueue</span>
00573 <span class="comment">//----------------------------------------------------------------------------</span>
00597 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> TKey, <span class="keyword">class</span> TValue&gt;
<a name="l00598"></a><a class="code" href="classstDynamicRPriorityQueue.html">00598</a> <span class="keyword">class </span><a class="code" href="classstDynamicRPriorityQueue.html">stDynamicRPriorityQueue</a>{
00599    <span class="keyword">public</span>:
<a name="l00621"></a><a class="code" href="classstDynamicRPriorityQueue.html#a0">00621</a>       <a class="code" href="classstDynamicRPriorityQueue.html#a0">stDynamicRPriorityQueue</a>(<span class="keywordtype">int</span> initialSize, <span class="keywordtype">int</span> increment = 32){
00622          this-&gt;increment = increment;
00623          this-&gt;maxSize = initialSize;
00624          this-&gt;size = 0;
00625          entries = <span class="keyword">new</span> tEntry[maxSize];
00626       }<span class="comment">//end stDynamicRPriorityQueue</span>
00627 
<a name="l00631"></a><a class="code" href="classstDynamicRPriorityQueue.html#a1">00631</a>       <a class="code" href="classstDynamicRPriorityQueue.html#a1">~stDynamicRPriorityQueue</a>(){
00632          <span class="keywordflow">if</span> (entries != NULL){
00633             <span class="keyword">delete</span>[] entries;
00634          }<span class="comment">//end if</span>
00635       }<span class="comment">//end ~stDynamicRPriorityQueue</span>
00636 
00645       <span class="keywordtype">bool</span> <a class="code" href="classstDynamicRPriorityQueue.html#a2">Get</a>(TKey &amp; key, TValue &amp; value);
00646    
00654       <span class="keywordtype">void</span> <a class="code" href="classstDynamicRPriorityQueue.html#a3">Add</a>(<span class="keyword">const</span> TKey &amp; key, <span class="keyword">const</span> TValue &amp; value);  
00655       
<a name="l00659"></a><a class="code" href="classstDynamicRPriorityQueue.html#a4">00659</a>       <span class="keywordtype">int</span> <a class="code" href="classstDynamicRPriorityQueue.html#a4">GetSize</a>(){
00660          <span class="keywordflow">return</span> size;
00661       }<span class="comment">//end GetSize</span>
00662    <span class="keyword">private</span>:
00666       <span class="keyword">struct </span><a class="code" href="classtEntry.html">tEntry</a>{
00670          TKey key;
00674          TValue value;
00675       };<span class="comment">//end tEntry</span>
00676 
00680       <a class="code" href="classtEntry.html">tEntry</a> * entries;
00681       
00685       <span class="keywordtype">int</span> maxSize;
00686       
00690       <span class="keywordtype">int</span> size;
00691 
00695       <span class="keywordtype">int</span> increment;
00696       
00703       <span class="keywordtype">int</span> GetMinChild(<span class="keywordtype">int</span> parent){
00704          <span class="keywordtype">int</span> c = (parent * 2) + 1;
00705          
00706          <span class="keywordflow">if</span> ((c + 1 &lt; size) &amp;&amp; (entries[c + 1].key &lt; entries[c].key)){
00707             <span class="keywordflow">return</span> c + 1;
00708          }<span class="keywordflow">else</span>{
00709             <span class="keywordflow">if</span> (c &lt; size){
00710                <span class="keywordflow">return</span> c;
00711             }<span class="keywordflow">else</span>{
00712                <span class="keywordflow">return</span> -1;
00713             }<span class="comment">//end if            </span>
00714          }<span class="comment">//end if</span>
00715       }<span class="comment">//end GetMinChild</span>
00716    
00721       <span class="keywordtype">void</span> Resize();
00722       
00723 };<span class="comment">//end stDynamicRPriorityQueue</span>
00724 
00725 <span class="comment">//----------------------------------------------------------------------------</span>
00726 <span class="comment">// template class stDynamicRReversedPriorityQueue</span>
00727 <span class="comment">//----------------------------------------------------------------------------</span>
00750 <span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">class</span> TKey, <span class="keyword">class</span> TValue&gt;
<a name="l00751"></a><a class="code" href="classstDynamicRReversedPriorityQueue.html">00751</a> <span class="keyword">class </span><a class="code" href="classstDynamicRReversedPriorityQueue.html">stDynamicRReversedPriorityQueue</a>{
00752    <span class="keyword">public</span>:
<a name="l00774"></a><a class="code" href="classstDynamicRReversedPriorityQueue.html#a0">00774</a>       <a class="code" href="classstDynamicRReversedPriorityQueue.html#a0">stDynamicRReversedPriorityQueue</a>(<span class="keywordtype">int</span> initialSize, <span class="keywordtype">int</span> increment = 32){
00775          this-&gt;increment = increment;
00776          this-&gt;maxSize = initialSize;
00777          this-&gt;size = 0;
00778          entries = <span class="keyword">new</span> tEntry[maxSize];
00779       }<span class="comment">//end stDynamicRReversedPriorityQueue</span>
00780 
<a name="l00784"></a><a class="code" href="classstDynamicRReversedPriorityQueue.html#a1">00784</a>       <a class="code" href="classstDynamicRReversedPriorityQueue.html#a1">~stDynamicRReversedPriorityQueue</a>(){
00785          <span class="keywordflow">if</span> (entries != NULL){
00786             <span class="keyword">delete</span>[] entries;
00787          }<span class="comment">//end if</span>
00788       }<span class="comment">//end ~stDynamicRReversedPriorityQueue</span>
00789 
00798       <span class="keywordtype">bool</span> <a class="code" href="classstDynamicRReversedPriorityQueue.html#a2">Get</a>(TKey &amp; key, TValue &amp; value);
00799    
00807       <span class="keywordtype">void</span> <a class="code" href="classstDynamicRReversedPriorityQueue.html#a3">Add</a>(<span class="keyword">const</span> TKey &amp; key, <span class="keyword">const</span> TValue &amp; value);  
00808       
<a name="l00812"></a><a class="code" href="classstDynamicRReversedPriorityQueue.html#a4">00812</a>       <span class="keywordtype">int</span> <a class="code" href="classstDynamicRReversedPriorityQueue.html#a4">GetSize</a>(){
00813          <span class="keywordflow">return</span> size;
00814       }<span class="comment">//end GetSize</span>
00815       
00816    <span class="keyword">private</span>:
00820       <span class="keyword">struct </span><a class="code" href="classtEntry.html">tEntry</a>{
00824          TKey key;
00828          TValue value;
00829       };<span class="comment">//end tEntry</span>
00830 
00834       <a class="code" href="classtEntry.html">tEntry</a> * entries;
00835       
00839       <span class="keywordtype">int</span> maxSize;
00840       
00844       <span class="keywordtype">int</span> size;
00845 
00849       <span class="keywordtype">int</span> increment;
00850       
00857       <span class="keywordtype">int</span> GetMinChild(<span class="keywordtype">int</span> parent){
00858          <span class="keywordtype">int</span> c = (parent * 2) + 1;
00859          
00860          <span class="keywordflow">if</span> ((c + 1 &lt; size) &amp;&amp; (entries[c + 1].key &gt; entries[c].key)){
00861             <span class="keywordflow">return</span> c + 1;
00862          }<span class="keywordflow">else</span>{
00863             <span class="keywordflow">if</span> (c &lt; size){
00864                <span class="keywordflow">return</span> c;
00865             }<span class="keywordflow">else</span>{
00866                <span class="keywordflow">return</span> -1;
00867             }<span class="comment">//end if            </span>
00868          }<span class="comment">//end if</span>
00869       }<span class="comment">//end GetMinChild</span>
00870    
00875       <span class="keywordtype">void</span> Resize();
00876       
00877 };<span class="comment">//end stDynamicRReversedPriorityQueue</span>
00878 
00879 <span class="comment">//----------------------------------------------------------------------------</span>
00880 <span class="comment">// Global Query Priority Queue</span>
00881 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00894"></a><a class="code" href="structstQueryPriorityQueueValue.html">00894</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstQueryPriorityQueueValue.html">stQueryPriorityQueueValue</a>{
<a name="l00898"></a><a class="code" href="structstQueryPriorityQueueValue.html#o0">00898</a>    <a class="code" href="group__types.html#a4">stPageID</a> <a class="code" href="structstQueryPriorityQueueValue.html#o0">PageID</a>;
00899    
<a name="l00903"></a><a class="code" href="structstQueryPriorityQueueValue.html#o1">00903</a>    <a class="code" href="group__types.html#a6">stDistance</a> <a class="code" href="structstQueryPriorityQueueValue.html#o1">Radius</a>;
00904    
00905 <span class="preprocessor">   #ifdef __stMAMVIEW__</span>
00906 <span class="preprocessor"></span>
<a name="l00909"></a><a class="code" href="structstQueryPriorityQueueValue.html#o2">00909</a>       <a class="code" href="group__types.html#a4">stPageID</a> <a class="code" href="structstQueryPriorityQueueValue.html#o2">Parent</a>;
00910    
<a name="l00914"></a><a class="code" href="structstQueryPriorityQueueValue.html#o3">00914</a>       <span class="keywordtype">int</span> <a class="code" href="structstQueryPriorityQueueValue.html#o3">Level</a>;  
00915 <span class="preprocessor">   #endif //__stMAMVIEW__</span>
00916 <span class="preprocessor"></span>   
<a name="l00922"></a><a class="code" href="structstQueryPriorityQueueValue.html#a0">00922</a>    <span class="keyword">const</span> <a class="code" href="structstQueryPriorityQueueValue.html">stQueryPriorityQueueValue</a> &amp; <a class="code" href="structstQueryPriorityQueueValue.html#a0">operator = </a>(<span class="keyword">const</span> <a class="code" href="structstQueryPriorityQueueValue.html">stQueryPriorityQueueValue</a> &amp; v){
00923       
00924       this-&gt;<a class="code" href="structstQueryPriorityQueueValue.html#o0">PageID</a> = v.<a class="code" href="structstQueryPriorityQueueValue.html#o0">PageID</a>;
00925       this-&gt;<a class="code" href="structstQueryPriorityQueueValue.html#o1">Radius</a> = v.<a class="code" href="structstQueryPriorityQueueValue.html#o1">Radius</a>;
00926 <span class="preprocessor">      #ifdef __stMAMVIEW__</span>
00927 <span class="preprocessor"></span>         this-&gt;<a class="code" href="structstQueryPriorityQueueValue.html#o2">Parent</a> = v.<a class="code" href="structstQueryPriorityQueueValue.html#o2">Parent</a>;
00928          this-&gt;<a class="code" href="structstQueryPriorityQueueValue.html#o3">Level</a> = v.<a class="code" href="structstQueryPriorityQueueValue.html#o3">Level</a>;
00929 <span class="preprocessor">      #endif //__stMAMVIEW__</span>
00930 <span class="preprocessor"></span>      <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00931    }<span class="comment">//end operator =</span>
00932 } <a class="code" href="structstQueryPriorityQueueValue.html">stQueryPQueueValue</a>;
00933 
00934 
00935 <span class="comment">//----------------------------------------------------------------------------</span>
00936 <span class="comment">// Random utility functions</span>
00937 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00945"></a><a class="code" href="group__util.html#a3">00945</a> <span class="comment"></span><span class="preprocessor">#define drand() (((double)rand())/((double)RAND_MAX))</span>
00946 <span class="preprocessor"></span>
<a name="l00958"></a><a class="code" href="group__util.html#a4">00958</a> <span class="preprocessor">#define rngrand(low, hi) ((((hi) - (low)) * drand()) + (low))</span>
00959 <span class="preprocessor"></span>
<a name="l00970"></a><a class="code" href="group__util.html#a5">00970</a> <span class="preprocessor">#define randomevent(p) (drand() &lt;= (p))</span>
00971 <span class="preprocessor"></span>
00972 <span class="comment">//----------------------------------------------------------------------------</span>
00973 <span class="comment">// File manipulation constants and functions.</span>
00974 <span class="comment">//----------------------------------------------------------------------------</span>
00975 <span class="preprocessor">#ifdef __WIN32__  </span>
00976 <span class="preprocessor"></span>
00983 <span class="preprocessor">   #define DIRSEP '\\'</span>
00984 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00985 <span class="preprocessor"></span>
<a name="l00992"></a><a class="code" href="group__util.html#a6">00992</a> <span class="preprocessor">   #define DIRSEP '/'</span>
00993 <span class="preprocessor"></span><span class="preprocessor">#endif //__WIN32__</span>
00994 <span class="preprocessor"></span>
00995 <span class="comment">//----------------------------------------------------------------------------</span>
00996 <span class="comment">// Class template stInstanceAllocator</span>
00997 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01009"></a><a class="code" href="classstInstanceAllocator.html">01009</a> <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> ClassType&gt; <span class="keyword">class </span><a class="code" href="classstInstanceAllocator.html">stInstanceAllocator</a>{
01010    <span class="keyword">public</span>:
<a name="l01014"></a><a class="code" href="classstInstanceAllocator.html#a0">01014</a>       ClassType * <a class="code" href="classstInstanceAllocator.html#a0">Create</a>(){
01015          <span class="keywordflow">return</span> <span class="keyword">new</span> ClassType();
01016       }<span class="comment">//end Create</span>
01017       
<a name="l01021"></a><a class="code" href="classstInstanceAllocator.html#a1">01021</a>       <span class="keywordtype">void</span> <a class="code" href="classstInstanceAllocator.html#a1">Dispose</a>(ClassType * instance){
01022          <span class="keyword">delete</span> instance;
01023       }<span class="comment">//end Dispose</span>
01024 };<span class="comment">//end stInstanceAllocator</span>
01025 
01026 <span class="comment">//----------------------------------------------------------------------------</span>
01027 <span class="comment">// Class template stInstanceCache</span>
01028 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01056"></a><a class="code" href="classstInstanceCache.html">01056</a> <span class="comment"></span><span class="keyword">template</span> &lt; <span class="keyword">class</span> ClassType, <span class="keyword">class</span> AllocatorType&gt; <span class="keyword">class </span><a class="code" href="classstInstanceCache.html">stInstanceCache</a>{
01057    <span class="keyword">public</span>:
<a name="l01065"></a><a class="code" href="classstInstanceCache.html#a0">01065</a>       <a class="code" href="classstInstanceCache.html#a0">stInstanceCache</a>(<span class="keywordtype">int</span> capacity, AllocatorType * allocator){
01066          this-&gt;allocator = allocator;
01067          this-&gt;capacity = capacity;
01068          this-&gt;instances = <span class="keyword">new</span> ClassType * [capacity];
01069          this-&gt;size = 0;
01070       }<span class="comment">//end stInstance</span>
01071       
01075       <a class="code" href="classstInstanceCache.html#a1">~stInstanceCache</a>();
01076    
<a name="l01080"></a><a class="code" href="classstInstanceCache.html#a2">01080</a>       ClassType * <a class="code" href="classstInstanceCache.html#a2">Get</a>(){
01081          <span class="keywordflow">if</span> (size &gt; 0){
01082             size--;
01083             <span class="keywordflow">return</span> instances[size];
01084          }<span class="keywordflow">else</span>{
01085             <span class="keywordflow">return</span> allocator-&gt;Create();
01086          }<span class="comment">//end if</span>
01087       }<span class="comment">//end Get</span>
01088 
<a name="l01094"></a><a class="code" href="classstInstanceCache.html#a3">01094</a>       <span class="keywordtype">void</span> <a class="code" href="classstInstanceCache.html#a3">Put</a>(ClassType * instance){
01095          <span class="keywordflow">if</span> (size &lt; capacity){
01096             instances[size] = instance;
01097             size++;
01098          }<span class="keywordflow">else</span>{
01099             allocator-&gt;Dispose(instance);
01100          }<span class="comment">//end if</span>
01101       }<span class="comment">//end Put     </span>
01102 
01103    <span class="keyword">private</span>:
01104 
01108       ClassType ** instances;
01109       
01113       <span class="keywordtype">int</span> size;
01114       
01118       <span class="keywordtype">int</span> capacity;   
01119       
01123       AllocatorType * allocator;
01124       
01125 };<span class="comment">//end stInstanceCache</span>
01126 
01127 <span class="comment">//----------------------------------------------------------------------------</span>
01128 <span class="comment">// Class stMessageString</span>
01129 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01139"></a><a class="code" href="classstMessageString.html">01139</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classstMessageString.html">stMessageString</a>{
01140 
01141    <span class="keyword">public</span>:
01142 
<a name="l01148"></a><a class="code" href="classstMessageString.html#a0">01148</a>       <span class="keywordtype">void</span> <a class="code" href="classstMessageString.html#a0">Append</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * str){
01149          this-&gt;str.append(str);
01150       }<span class="comment">//end Append</span>
01151 
<a name="l01157"></a><a class="code" href="classstMessageString.html#a1">01157</a>       <span class="keywordtype">void</span> <a class="code" href="classstMessageString.html#a0">Append</a>(<span class="keywordtype">double</span> d){
01158          <span class="keywordtype">char</span> tmp[32];
01159          sprintf(tmp, <span class="stringliteral">"%f"</span>, d);
01160          <a class="code" href="classstMessageString.html#a0">Append</a>(tmp);
01161       }<span class="comment">//end Append</span>
01162 
<a name="l01168"></a><a class="code" href="classstMessageString.html#a2">01168</a>       <span class="keywordtype">void</span> <a class="code" href="classstMessageString.html#a0">Append</a>(<span class="keywordtype">int</span> i){
01169          <span class="keywordtype">char</span> tmp[32];
01170          sprintf(tmp, <span class="stringliteral">"%d"</span>, i);
01171          <a class="code" href="classstMessageString.html#a0">Append</a>(tmp);
01172       }<span class="comment">//end Append</span>
01173 
<a name="l01177"></a><a class="code" href="classstMessageString.html#a3">01177</a>       <span class="keywordtype">void</span> <a class="code" href="classstMessageString.html#a3">Clear</a>(){
01178          str = <span class="stringliteral">""</span>;
01179       }<span class="comment">//end Clear</span>
01180 
<a name="l01184"></a><a class="code" href="classstMessageString.html#a4">01184</a>       <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classstMessageString.html#a4">GetStr</a>(){
01185          <span class="keywordflow">return</span> str.c_str();
01186       }<span class="comment">//end GetStr</span>
01187 
01188    <span class="keyword">private</span>:
01189 
01193       string str;
01194 
01195 };<span class="comment">//end stMessageString</span>
01196 
01197 <span class="preprocessor">#include &lt;arboretum/stUtil.cc&gt;</span>
01198 <span class="preprocessor">#endif //__STUTIL_H</span>
</pre></div><hr><address style="align: right;"><small>
Generated on Mon Mar 21 16:12:06 2005 for GBDI Arboretum by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.3.4</small><br>
Copyright &copy 2002-2003 GBDI-ICMC-USP
</address>
</body>
</html>
