<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>stMIndexNode class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<h1>GBDI Arboretum<br><small>Version Release 1</small></h1>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>stMIndexNode Class Reference<br>
<small>
[<a class="el" href="group__slim.html">Structure Layer - Slim-Tree</a>]</small>
</h1><code>#include &lt;<a class="el" href="stMNode_8h-source.html">stMNode.h</a>&gt;</code>
<p>
<p>Inheritance diagram for stMIndexNode:
<p><center><img src="classstMIndexNode.png" usemap="#stMIndexNode_map" border="0" alt=""></center>
<map name="stMIndexNode_map">
<area href="classstMNode.html" alt="stMNode" shape="rect" coords="0,0,92,24">
</map>
<a href="classstMIndexNode-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="structstMIndexNode_1_1stMIndexEntry.html">stMIndexNode::stMIndexEntry</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#w0">stMIndexEntry</a></td></tr>

<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a0">stMIndexNode</a> (<a class="el" href="classstPage.html">stPage</a> *page, bool create=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structstMIndexNode_1_1stMIndexEntry.html">stMIndexEntry</a> &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a1">GetIndexEntry</a> (int id)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a2">AddEntry</a> (<a class="el" href="stTypes_8h.html#a5">stSize</a> size, const  <a class="el" href="stTypes_8h.html#a3">stByte</a> *object)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a3">GetRepresentativeEntry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const  <a class="el" href="stTypes_8h.html#a3">stByte</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a4">GetObject</a> (int id)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a5">GetObjectSize</a> (int id)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a6">RemoveEntry</a> (int id)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual <a class="el" href="stTypes_8h.html#a6">stDistance</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#a7">GetMinimumRadius</a> ()</td></tr>

<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classstMIndexNode.html#e0">GetIndexEntryOverhead</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements the index node of the MTree.<p>
The MTree index node...<p>
The structure of Index Node follows: <div align="center">
<img src="indexnode.png" alt="indexnode.png">
<p><strong>Index node structure</strong></p></div>
 <p>
The <b>Header</b> holds the information about the node itself.<ul>
<li>Type: Type of this node. It is always <a class="el" href="classstMNode.html#w2w0">stMNode::INDEX</a> (0x4449).</li><li>Occupation: Number of entries in this node.</li></ul>
<p>
The <b>Entry</b> holds the information of the link to the other node.<ul>
<li>PageID: The identifier of the page which holds the root of the sub tree.<ul>
<li>Distance: The distance of this object from the representative object.</li><li>Radius: Radius of the sub tree.</li><li>Offset: The offset of the object in the page. DO NOT MODIFY ITS VALUE.</li></ul>
</li></ul>
<p>
The <b>Object</b> is an array of bytes that holds the information required to rebuild the original object.<p>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Marcos Rodrigues Vieira (<a href="mailto:mrvieira@icmc.usp.br">mrvieira@icmc.usp.br</a>) </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000033">Todo:</a></b></dt><dd>Documentation review.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstMNode.html">stMNode</a> <p>
<a class="el" href="classstMLeafNode.html">stMLeafNode</a> </dd></dl>

<p>

<p>
Definition at line <a class="el" href="stMNode_8h-source.html#l00316">316</a> of file <a class="el" href="stMNode_8h-source.html">stMNode.h</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="w0" doxytag="stMIndexNode::stMIndexEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="structstMIndexNode_1_1stMIndexEntry.html">stMIndexNode::stMIndexEntry</a>  <a class="el" href="structstMIndexNode_1_1stMIndexEntry.html">stMIndexNode::stMIndexEntry</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This type represents a slim tree index node entry.     </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="stMIndexNode::stMIndexNode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> stMIndexNode::stMIndexNode </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classstPage.html">stPage</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>page</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>create</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a new instance of this class. The parameter <em>page</em> is an instance of <a class="el" href="classstPage.html">stPage</a> that hold the node data.<p>
The parameter <em>create</em> tells to stIndexPage what operation will be performed. True means that the page will be initialized and false means that the page will be used as it is. The default value is false.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>page</em>&nbsp;</td><td>The page that hold the data of this node. </td></tr>
    <tr><td valign=top><em>create</em>&nbsp;</td><td>The operation to be performed. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="stMIndexNode::AddEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual int stMIndexNode::AddEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="stTypes_8h.html#a5">stSize</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="stTypes_8h.html#a3">stByte</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>object</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a new entry to this node. This method will return the id of the new node or a negative value for failure.<p>
This method will fail if there is not enough space to hold the new object.<p>
If you have added a new entry successfully, you may edit the entry fields using the method GetEntry().<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>size</em>&nbsp;</td><td>The size of the object in bytes. </td></tr>
    <tr><td valign=top><em>object</em>&nbsp;</td><td>The object data. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>The parameter size is not verified by this implementation unless __stDEBUG__ is defined at compile time. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>The position in the vector Entries. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstMIndexNode.html#a6">RemoveEntry()</a> <p>
GetEntry() </dd></dl>

<p>
Implements <a class="el" href="classstMNode.html#a5">stMNode</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="stMIndexNode::GetIndexEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structstMIndexNode_1_1stMIndexEntry.html">stMIndexEntry</a>&amp; stMIndexNode::GetIndexEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the reference of the desired entry. You may use this method to read and modify the entry information.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>id</em>&nbsp;</td><td>The id of the entry. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>The parameter id is not verified by this implementation unless __stDEBUG__ is defined at compile time. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>stIndexEntry the reference of the desired entry. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>stLeafEntry <p>
<a class="el" href="classstMNode.html#a4">GetNumberOfEntries()</a> <p>
<a class="el" href="classstMIndexNode.html#a4">GetObject()</a> <p>
<a class="el" href="classstMIndexNode.html#a5">GetObjectSize()</a> </dd></dl>

<p>
Definition at line <a class="el" href="stMNode_8h-source.html#l00373">373</a> of file <a class="el" href="stMNode_8h-source.html">stMNode.h</a>.
<p>
References <a class="el" href="stMNode_8h-source.html#l00175">stMNode::GetNumberOfEntries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e0" doxytag="stMIndexNode::GetIndexEntryOverhead" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="stTypes_8h.html#a5">stSize</a> stMIndexNode::GetIndexEntryOverhead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the overhead of each index node entry in bytes. 
<p>
Definition at line <a class="el" href="stMNode_8h-source.html#l00449">449</a> of file <a class="el" href="stMNode_8h-source.html">stMNode.h</a>.
<p>
References <a class="el" href="stTypes_8h-source.html#l00191">stSize</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="stMIndexNode::GetMinimumRadius" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="stTypes_8h.html#a6">stDistance</a> stMIndexNode::GetMinimumRadius </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the minimum radius of this node. 
<p>
Implements <a class="el" href="classstMNode.html#a8">stMNode</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="stMIndexNode::GetObject" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="stTypes_8h.html#a3">stByte</a>* stMIndexNode::GetObject </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the serialized object. Use GetObjectSize to determine the size of the object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>id</em>&nbsp;</td><td>The id of the entry. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>The parameter id is not verified by this implementation. unless __stDEBUG__ is defined at compile time. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the serialized object. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstMIndexNode.html#a5">GetObjectSize()</a> </dd></dl>

<p>
Implements <a class="el" href="classstMNode.html#a6">stMNode</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="stMIndexNode::GetObjectSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="stTypes_8h.html#a5">stSize</a> stMIndexNode::GetObjectSize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the size of the object. Use <a class="el" href="classstMIndexNode.html#a4">GetObject()</a> to get the object data.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>id</em>&nbsp;</td><td>The id of the entry. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>The parameter id is not verified by this implementation unless __stDEBUG__ is defined at compile time. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>The size of the serialized object. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstMIndexNode.html#a4">GetObject()</a> </dd></dl>

<p>
Implements <a class="el" href="classstMNode.html#a7">stMNode</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="stMIndexNode::GetRepresentativeEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int stMIndexNode::GetRepresentativeEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the entry id that hold the representaive object.     </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="stMIndexNode::RemoveEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void stMIndexNode::RemoveEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes an entry from this object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>id</em>&nbsp;</td><td>The id of the entry. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Warning:</b></dt><dd>The parameter id is not verified by this implementation unless __stDEBUG__ is defined at compile time. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classstMIndexNode.html#a5">GetObjectSize()</a> </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="stMNode_8h-source.html">stMNode.h</a></ul>
<hr><address style="align: right;"><small>
Generated on Mon Mar 21 16:12:07 2005 for GBDI Arboretum by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.3.4</small><br>
Copyright &copy 2002-2003 GBDI-ICMC-USP
</address>
</body>
</html>
